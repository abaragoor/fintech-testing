<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Register</title>
  </head>
  <body>
    <h1>Register</h1>
    <form id="regForm" method="post" action="/register">
      <label>Name: <input id="name" name="name"/></label><br/>
      <label>Email: <input id="email" name="email" /></label><br/>
      <button id="submit" type="submit">Register</button>
    </form>
    <script>
      document.getElementById('regForm').addEventListener('submit', function(e){
        e.preventDefault();
        var form = e.target;
        fetch('/register', {method:'POST', body: new FormData(form)}).then(r=>r.json()).then(j=>{
          document.body.innerHTML = '<div>Registration Successful: ' + (j.email||j.error) + '</div>'
        })
      })
    </script>
  </body>
</html>
